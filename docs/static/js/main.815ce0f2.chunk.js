(this["webpackJsonpfrontend-contacto"]=this["webpackJsonpfrontend-contacto"]||[]).push([[0],{25:function(e,a,t){e.exports=t.p+"static/media/fondo-homepage.33613dbf.jpg"},76:function(e,a,t){e.exports=t(92)},81:function(e,a,t){},90:function(e,a,t){},92:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(28),c=t.n(o),l=(t(81),t(17)),i=t(8),s=t(61),m=t(67),u=t(25),d=t.n(u),p=t(108),g=t(103),b=t(107),h=t(112),f=t(111),E=Object(b.a)({navbarLink:{"&:hover":{textDecoration:"none",color:"#eee"},textDecoration:"none",color:"rgba(255,255,255,.5)",marginRight:" 30px"},logo:{"&:hover":{textDecoration:"none",color:"#eee"},marginRight:"50px",color:"#eef",textDecoration:"none"}}),v=Object(n.memo)((function(e){var a=e.logged,t=E(),o=r.a.createRef();return console.log(a),r.a.createElement(n.Fragment,null,r.a.createElement(h.a,{fixed:"top",collapseOnSelect:!0,expand:"lg",className:t.nav,bg:"dark",variant:"dark"},r.a.createElement(l.b,{className:t.logo,to:"/"},r.a.createElement("h2",null,"Logo")),r.a.createElement(h.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),r.a.createElement(h.a.Collapse,{ref:o,id:"responsive-navbar-nav"},r.a.createElement(f.a,{className:"mr-auto"},r.a.createElement(f.a.Link,{href:"/",className:t.navbarLink},"Home")),r.a.createElement(l.b,{to:"/auth",className:t.navbarLink},"login"),r.a.createElement(l.b,{to:"/register",className:t.navbarLink},"Registro"))))})),x=Object(b.a)({footer:{display:"flex",backgroundColor:"#343a40",color:"#eee",height:"50px",justifyContent:"center",alignItems:"center",position:"sticky"}}),j=function(){var e=x();return r.a.createElement("footer",{className:e.footer},"\xa9 Todos los Derechos Reservados ",(new Date).getFullYear()," ",r.a.createElement("br",null))};function N(){var e=Object(s.a)(["\n  display: flex;\n  background-image: url(",");\n  width: 100%;\n  height: 100%;\n  background-size: cover;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  margin: 0;\n"]);return N=function(){return e},e}var O=Object(p.a)({container:{height:"100%"},title:{paddingBottom:"15px",textAlign:"center",fontFamily:"Roboto",color:"#eee"}}),y=m.a.div(N(),d.a),C=function(e){var a=O();return r.a.createElement(n.Fragment,null,r.a.createElement(v,null),r.a.createElement("div",{className:a.container},r.a.createElement(y,null,r.a.createElement("h1",{className:a.title},"Guarda tus contactos en la nube!"),r.a.createElement(l.b,{to:"/auth"},r.a.createElement(g.a,{color:"primary"},"Ver Contactos")))),r.a.createElement(j,null))},k=t(27),w=t(21),S=t(10),T=t(110),F=t(104),R=(t(60),t(22)),L=t.n(R),D=t(33),I=function(){var e=Object(D.a)(L.a.mark((function e(a,t){var n;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={email:a,password:t},e.next=3,fetch("https://agendacontactocfcf.herokuapp.com/api/auth",{method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).catch((function(e){return e})).then((function(e){return e}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}(),A=Object(b.a)({container:{display:"flex",height:"100%",backgroundImage:"url(".concat(d.a,")"),backgroundSize:"cover",color:"#eee",justifyContent:"center",alignItems:"center"},containerLogin:{display:"flex",alignItems:"center",flexDirection:"column",margin:0,backgroundColor:"rgba(9,10,10,0.5)",height:"90%",width:"400px",justifyContent:"center",borderRadius:"5px",marginTop:"50px"},subtitleForm:{marginBottom:"60px",textAlign:"center"},btnLogin:{marginTop:"10px",width:"300px"},inputForm:{marginBottom:"15px"},divMensaje:{display:"block",paddingBottom:"20px",width:"100%",textAlign:"center"},enlaceRegister:{display:"block",marginTop:"40px",textAlign:"center"}}),B=function(e){var a=A(),t=Object(n.useState)({email:"",password:""}),o=Object(S.a)(t,2),c=o[0],i=o[1],s=Object(n.useState)(!1),m=Object(S.a)(s,2),u=m[0],d=m[1],p=c.email,b=c.password,h=Object(n.useState)(!1),f=Object(S.a)(h,2),E=f[0],x=f[1],j=Object(n.useState)(),N=Object(S.a)(j,2),O=N[0],y=N[1];Object(n.useEffect)((function(){!function(){if(O){var a=O.token;console.log(a),localStorage.setItem("token",a),e.history.push("/contacts")}}(),console.log("estado cambio")}),[O]);var C=function(e){var a=e.target;i(Object(w.a)(Object(w.a)({},c),{},Object(k.a)({},a.name,a.value)))};return r.a.createElement(n.Fragment,null,r.a.createElement(v,null),r.a.createElement("div",{className:a.container},r.a.createElement("div",{className:a.containerLogin},r.a.createElement(T.a,{onSubmit:function(e){e.preventDefault(),x(!0),I(p,b).then((function(e){e.ok?y(e.auth):(d(!0),x(!1))})).catch((function(e){console.log(e)}))},className:"animate__animated animate__bounce"},r.a.createElement("h3",{className:a.subtitleForm},"Inicio de sesion"),u?r.a.createElement("div",{className:a.divMensaje},r.a.createElement(F.a,{variant:"danger"},"Email o contrase\xf1a incorrecta")):"",r.a.createElement(T.a.Label,null,"Email:"),r.a.createElement(T.a.Control,{autoFocus:!0,required:"required",name:"email",className:a.inputForm,type:"email",placeholder:"example@correo.com",onChange:C,value:p}),r.a.createElement(T.a.Label,null,"Contrase\xf1a:"),r.a.createElement(T.a.Control,{required:"required",name:"password",className:a.inputForm,type:"password",placeholder:"*********",onChange:C,value:b}),r.a.createElement(g.a,{type:"submit",className:a.btnLogin},"Iniciar Sesion"),r.a.createElement(l.b,{to:"/register",className:a.enlaceRegister},r.a.createElement("p",null,"\xbfAun no tienes una cuenta?"))),E?r.a.createElement("div",{className:"sk-chase"},r.a.createElement("div",{className:"sk-chase-dot"}),r.a.createElement("div",{className:"sk-chase-dot"}),r.a.createElement("div",{className:"sk-chase-dot"}),r.a.createElement("div",{className:"sk-chase-dot"}),r.a.createElement("div",{className:"sk-chase-dot"}),r.a.createElement("div",{className:"sk-chase-dot"})):"")))},q=function(){var e=Object(D.a)(L.a.mark((function e(a){var t,n,r,o,c;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.email,n=a.last,r=a.name,o=a.password,c={nombre:r,apellido:n,email:t,password:o},console.log(c.password),e.next=5,fetch("https://agendacontactocfcf.herokuapp.com/api/user",{method:"POST",body:JSON.stringify(c),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).catch((function(e){return e})).then((function(e){return e}));case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),_=Object(b.a)({container:{display:"flex",width:"100%",height:"100%",backgroundImage:"url(".concat(d.a,")"),backgroundSize:"cover",color:"#eee",justifyContent:"center",alignItems:"center"},containerLogin:{display:"flex",alignItems:"center",flexDirection:"column",margin:0,backgroundColor:"rgba(9,10,10,0.5)",height:"100%",width:"400px",borderRadius:"5px",justifyContent:"center"},inputForm:{marginBottom:"12px",width:"300px"},btnRegister:{textAlign:"center",width:"300px",marginTop:"20px"},spanRequired:{color:"#CF2107"},subtitleForm:{marginTop:"60px",marginBottom:"40px",textAlign:"center"},errorDiv:{marginTop:"10px",width:"300px",textAlign:"center"}}),z=function(e){var a=_(),t=Object(n.useState)(!1),o=Object(S.a)(t,2),c=o[0],l=o[1],i=Object(n.useState)(""),s=Object(S.a)(i,2),m=s[0],u=s[1],d=Object(n.useState)(!1),p=Object(S.a)(d,2),b=p[0],h=p[1],f=Object(n.useState)({name:"",last:"",email:"",password:""}),E=Object(S.a)(f,2),x=E[0],j=E[1],N=x.name,O=x.email,y=x.password,C=function(e){var a=e.target;j(Object(w.a)(Object(w.a)({},x),{},Object(k.a)({},a.name,a.value)))};return r.a.createElement(n.Fragment,null,r.a.createElement(v,null),r.a.createElement("div",{className:a.container},r.a.createElement("div",{className:a.containerLogin},r.a.createElement(T.a,{onSubmit:function(a){a.preventDefault(),""===O||""===y||""===N?(console.log("formulario vacio"),l(!0),u("\xa1Rellene los campos obligatorios!")):q(x).then((function(a){a.ok?(l(!1),h(!0),setTimeout((function(){e.history.push("/auth")}),2e3)):(l(!0),u("\xa1Error! , Usuario ya se encuentra registrado :(")),console.log(a)}))},className:"animate__animated animate__bounce"},r.a.createElement("h3",{className:a.subtitleForm},"Registro"),r.a.createElement(T.a.Group,null,r.a.createElement(T.a.Label,null,"Nombre: ",r.a.createElement("span",{className:a.spanRequired},"*")),r.a.createElement(T.a.Control,{className:a.inputForm,type:"text",minlenght:"1",name:"name",onChange:C,autoFocus:!0,placeholder:"Tu nombre"}),r.a.createElement(T.a.Label,null,"Apellido:"),r.a.createElement(T.a.Control,{className:a.inputForm,type:"text",minlenght:"1",name:"last",onChange:C,placeholder:"Tu Apellido"}),r.a.createElement(T.a.Label,null,"Email: ",r.a.createElement("span",{className:a.spanRequired},"*")),r.a.createElement(T.a.Control,{className:a.inputForm,type:"email",minlenght:"5",name:"email",onChange:C,placeholder:"example@correo.com"}),r.a.createElement(T.a.Label,null,"Contrase\xf1a: ",r.a.createElement("span",{className:a.spanRequired},"*")),r.a.createElement(T.a.Control,{className:a.inputForm,type:"password",minlenght:"6",name:"password",onChange:C,placeholder:"*********"})),r.a.createElement(g.a,{type:"submit",className:a.btnRegister,variant:"primary"},"Registrarse"),c?r.a.createElement("div",{className:a.errorDiv},r.a.createElement(F.a,{variant:"danger"},m)):"",b?r.a.createElement("div",{className:a.errorDiv},r.a.createElement(F.a,{variant:"success"},"\xa1Su registro a sido Exitoso!")):""))))},J=t(106),M=t(109),G=t(105),P=t(113),H=function(e){var a=e.card,t=e.cardContactos,o=e.contactsData,c=e.btnmodal;return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:t},o.map((function(e){return r.a.createElement(G.a,{key:e._id,className:"cardColumn"},r.a.createElement(P.a,{className:a},r.a.createElement(P.a.Body,null,r.a.createElement(P.a.Title,null,e.Nombre),r.a.createElement(P.a.Text,null,"Telefono: ",e.Telefono),r.a.createElement(P.a.Text,null,"Email: ",e.Email),r.a.createElement(g.a,{onClick:function(){return alert("Esta funcionalidad aun no esta desarrollada :v")},className:c,variant:"primary"},"Actualizar"),r.a.createElement(g.a,{onClick:function(){return alert("Esta funcionalidad aun no esta desarrollada :v")},variant:"danger"},"Eliminar"))))}))))},U=Object(b.a)({containerSecundario:{backgroundColor:"rgba(9,10,10,0.5)",color:"white",height:"100%",overflow:"auto",paddingTop:"40px",paddingBottom:"30px"},container:{width:"100%",height:"100%",backgroundImage:"url(".concat(d.a,")")},cardContactos:{width:"100%",marginTop:"10px",margin:"0",color:"black"},subtitle:{textAlign:"center",marginBottom:"50px"},cards:{color:"#eee",backgroundColor:"black",width:"200%",marginRight:"10px"},cardColumn:{display:"inline-flex",overflow:"auto",width:"50%"},modal:{width:"100%",height:"100%"},btnModal:{marginRight:"10px"},inputForm:{marginBottom:"10px"}}),V=function(e){var a=U(),t=Object(n.useState)(!1),o=Object(S.a)(t,2),c=o[0],l=o[1],i=Object(n.useState)([]),s=Object(S.a)(i,2),m=s[0],u=s[1],d=Object(n.useState)(!0),p=Object(S.a)(d,2),b=p[0],h=p[1],f=Object(n.useState)(localStorage.getItem("token")),E=Object(S.a)(f,2),v=E[0],x=(E[1],Object(n.useState)()),N=Object(S.a)(x,2),O=N[0],y=N[1],C="https://agendacontactocfcf.herokuapp.com/",R=Object(n.useState)({name:"",phone:"",email:""}),I=Object(S.a)(R,2),A=I[0],B=I[1];Object(n.useEffect)((function(){console.log("consult data cambio")}),[m]),Object(n.useEffect)((function(){(function(){var a=Object(D.a)(L.a.mark((function a(){var t,n;return L.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!v||!b){a.next=8;break}return t=q(v),y(t),n="".concat(C).concat(t.usuario.id),a.next=6,fetch(n,{method:"GET",headers:{"Content-Type":"application/json",token:v}}).then((function(e){return e.json()})).catch((function(e){return console.log(e)})).then((function(e){u(e.ContactosDb),h(!1),console.log("contactos")}));case 6:a.next=9;break;case 8:null==v&&(console.log("se redirecciona"),e.history.push("/auth"));case 9:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}})()()}),[m]);var q=function(e){var a=e.split(".")[1].replace("-","+").replace("_","/");return JSON.parse(window.atob(a))},_=function(e){var a=e.target;console.log(e.target.name),B(Object(w.a)(Object(w.a)({},A),{},Object(k.a)({},a.name,a.value)))},z=function(a){var t=O.usuario;console.log(a);var n={id:t.id,nombre:a.name,email:a.email,telefono:a.phone};fetch(C,{method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).catch((function(e){return console.log(e)})).then((function(a){console.log(a),l(!1),h(!0),e.history.push("/contacts")}))};return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:a.container},r.a.createElement(J.a,{fluid:"sm",className:a.containerSecundario},r.a.createElement(M.a,{centered:"true",show:c,className:a.modal,"aria-labelledby":"example-modal-sizes-title-sm"},r.a.createElement(M.a.Header,null,r.a.createElement(M.a.Title,{centered:"true",id:"example-modal-sizes-title-sm"},"Registra tus Contactos")),r.a.createElement(M.a.Body,null,r.a.createElement(T.a,{onSubmit:function(e){e.preventDefault(),z(A)}},r.a.createElement(T.a.Group,null,r.a.createElement(T.a.Label,null,"Nombre: ",r.a.createElement("span",{className:a.spanRequired},"*")),r.a.createElement(T.a.Control,{required:!0,className:a.inputForm,type:"text",minlenght:"1",name:"name",onChange:_,autoFocus:!0}),r.a.createElement(T.a.Label,null,"N\xb0Telefono:"),r.a.createElement(T.a.Control,{className:a.inputForm,type:"number",maxlenght:"11",name:"phone",onChange:_,required:!0}),r.a.createElement(T.a.Label,null," Email: "),r.a.createElement(T.a.Control,{className:a.inputForm,type:"email",name:"email",onChange:_})),r.a.createElement(g.a,{className:a.btnModal,type:"submit",variant:"primary"},"Registrar Contacto"),r.a.createElement(g.a,{onClick:function(){return l(!1)},variant:"danger"},"Cancelar")))),r.a.createElement("h3",{className:a.subtitle},"Tus Contactos"),r.a.createElement(g.a,{onClick:function(){return l(!0)},variant:"primary"},"Guardar Nuevo Contacto"),m.length<=0?r.a.createElement(F.a,{variant:"info"},"No tiene contactos registrados"):r.a.createElement(H,{cardContactos:a.cardContactos,card:a.cards,contactsData:m,cardColumn:a.cardColumn,btnmodal:a.btnModal}))),r.a.createElement(j,null))},Y=function(){return r.a.createElement(l.a,null,r.a.createElement(i.c,null,r.a.createElement(i.a,{exact:!0,path:"/",component:C}),r.a.createElement(i.a,{exact:!0,path:"/auth",component:B}),r.a.createElement(i.a,{exact:!0,path:"/register",component:z}),r.a.createElement(i.a,{exact:!0,path:"/contacts",component:V})))};t(90);var K=function(){return r.a.createElement(Y,null)};t(91);c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(K,null)),document.getElementById("root"))}},[[76,1,2]]]);
//# sourceMappingURL=main.815ce0f2.chunk.js.map